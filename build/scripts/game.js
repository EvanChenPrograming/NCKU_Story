!function t(e,r,o){function n(a,s){if(!r[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return n(r?r:t)},c,c.exports,t,e,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=t("../functions/GlobalVar"),l=(o(s),void 0),u={},c=function(t){function e(t,r,o){var i=this;arguments.length<=3||void 0===arguments[3]?u:arguments[3];n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r.width/2,r.height/2,"textboxbg"),t.add.existing(this),this.width=2*this.width,this.height=2*this.height,this.anchor.setTo(.5,.5),this.fixedToCamera=!0,this.inputEnabled=!0,this.input.enableDrag(),l=t.add.text(0,-this.height/4+20,o,{font:"15px Arial",fill:"#19de65"}),this.addChild(l);var s=t.add.button(-this.width/4,this.height/4,"textboxbutton",function(){i.destroy()});s.anchor.setTo(0,1),s.scale.setTo(.1,.1),this.addChild(s);var c=t.add.image(-this.width/8,0,"dirty",5);c.anchor.setTo(0,.5),this.addChild(c)}return i(e,t),e}(Phaser.Sprite);r["default"]=c,e.exports=r["default"]},{"../functions/GlobalVar":2}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="NCKUSTORY";r.usr_name=o;var n="NCKUadmin";r.usr_passwd=n;var i=void 0;r.bgm=i;var a=void 0;r.usrUID=a;var s={};r.Char=s;var l={};r.MapInfo=l;var u=[];r.NPCInfo=u;var c={};r.MonsterInfo=c;var f=0;r.fromMap=f},{}],3:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),i=function(){function t(){o(this,t)}return n(t,null,[{key:"setTileCollision",value:function(t,e,r){var o=void 0;o=e.length?function(t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}:function(t){return t===e};for(var n=t.map.layers[t.index].data,i=0;i<n.length;i++)for(var a=0;a<n[i].length;a++){var s=n[i][a];o(s.index)&&(s.collideUp=r.top,s.collideDown=r.bottom,s.collideLeft=r.left,s.collideRight=r.right,s.faceTop=r.top,s.faceBottom=r.bottom,s.faceLeft=r.left,s.faceRight=r.right)}}}]),t}();r["default"]=i,e.exports=r["default"]},{}],4:[function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("./functions/GlobalVar"),u=n(l),c=t("./states/Boot"),f=o(c),p=t("./states/PreLogin"),h=o(p),d=t("./states/Login"),y=o(d),v=t("./states/PreSelect"),b=o(v),g=t("./states/SelectChar"),m=o(g),P=t("./states/PreCreateChar"),O=o(P),w=t("./states/CreateChar"),j=o(w),_=t("./states/PreMain"),k=o(_),x=t("./states/Main"),M=o(x),C=t("./states/Reload"),T=o(C),S=function(t){function e(){i(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,1280,720,Phaser.AUTO,"NCKUSTORY"),this.state.add("Boot",f["default"]),this.state.add("PreLogin",h["default"]),this.state.add("Login",y["default"]),this.state.add("PreSelect",b["default"]),this.state.add("SelectChar",m["default"]),this.state.add("PreCreateChar",O["default"]),this.state.add("CreateChar",j["default"]),this.state.add("PreMain",k["default"]),this.state.add("Main",M["default"]),this.state.add("Reload",T["default"]),"undefined"!=typeof u.usrUID?"undefined"!=typeof u.Char?this.state.start("PreMain"):this.state.start("PreSelect"):this.state.start("Boot")}return a(e,t),e}(Phaser.Game);new S},{"./functions/GlobalVar":2,"./states/Boot":8,"./states/CreateChar":9,"./states/Login":10,"./states/Main":11,"./states/PreCreateChar":12,"./states/PreLogin":13,"./states/PreMain":14,"./states/PreSelect":15,"./states/Reload":16,"./states/SelectChar":17}],5:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=(o(l),function(t){function e(t,r,o,i,a){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r,o),this.faceLeft=!1,this.onAttack=!1,this.isSuper=!1,this.block=!1,this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1,this.game=t,this.camera=i,this.mons=a,t.add.existing(this),t.physics.arcade.enable(this),this.anchor.setTo(.5,.5),this.body.gravity.y=500,this.body.collideWorldBounds=!0,this.body.setSize(a.bodySizeX,a.bodySizeY),this.outOfBoundsKill=!0,this.anime=t.add.group();var l=a.Sheets;for(var u in l){var c=t.add.sprite(l[u].offX,l[u].offY,u.toString());for(var f in l[u].animates)var p=c.animations.add(f.toString(),l[u].animates[f].frame,l[u].animates[f].fps,l[u].animates[f].loop);this.anime.add(c)}this.addChild(this.anime),this.resetFlag()}return i(e,t),a(e,[{key:"pattern",value:function(){var t=100*this.game.rnd.frac();if(t>67)this.RightPressed=!0;else{if(!(t>33))return;this.LeftPressed=!0}}},{key:"Action",value:function(){var t=this;if(!this.onAttack){if(this.body.velocity.x=0,this.onClimb?this.body.gravity.y=0:this.body.gravity.y=500,this.AttackPressed&&!this.block)return this.block=!0,this.Attack(),void setTimeout(function(){t.block=!1},650);this.RightPressed?this.goRight(this.body.onFloor()):this.LeftPressed?this.goLeft(this.body.onFloor()):this.stand(),this.JumpPressed&&this.body.onFloor()&&this.jump()}}},{key:"resetFlag",value:function(){var t=this;this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1;var e=100*this.game.rnd.frac();e>70?this.RightPressed=!0:e>40&&(this.LeftPressed=!0),this.alive&&setTimeout(function(){t.resetFlag()},500)}},{key:"stand",value:function(){this.anime.callAll("play",null,"stand")}},{key:"goRight",value:function(t){1==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!1),this.body.velocity.x=this.mons.Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"goLeft",value:function(t){0==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!0),this.body.velocity.x=-this.mons.Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"jump",value:function(){this.body.velocity.y=-this.mons.Jump,this.anime.callAll("play",null,"jump"),this.onClimb=!1}},{key:"Attack",value:function(){var t=this;this.onAttack=!0,this.anime.callAll("play",null,"attack"),this.anime.forEach(function(e){e.animations.currentAnim.onComplete.addOnce(function(){t.onAttack=!1,t.stand()},t)},this)}}]),e}(Phaser.Sprite));r["default"]=u,e.exports=r["default"]},{"../functions/GlobalVar":2}],6:[function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),l=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},u=t("../functions/GlobalVar"),c=(n(u),t("../feature/Textbox")),f=o(c),p=function(t){function e(t,r,o,n,a){var s=this;i(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r,o),this.faceLeft=!1,this.onAttack=!1,this.isSuper=!1,this.block=!1,this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1,this.game=t,this.camera=n,this.npc=a,t.add.existing(this),t.physics.arcade.enable(this),this.anchor.setTo(.5,.5),this.body.gravity.y=500,this.body.collideWorldBounds=!0,this.body.setSize(a.bodySizeX,a.bodySizeY),this.anime=t.add.group();var u=a.Sheets;for(var c in u){var p=t.add.sprite(u[c].offX,u[c].offY,c.toString());for(var h in u[c].animates)var d=p.animations.add(h.toString(),u[c].animates[h].frame,u[c].animates[h].fps,u[c].animates[h].loop);this.anime.add(p)}this.inputEnabled=!0,this.events.onInputDown.add(function(){var e=new f["default"](t,n,"我是\n張天豪大魔王！！\n來打桌球吧ㄎㄎ\n我在下一張圖等你。");n.shake(),s.block=!0,s.stand(),s.body.velocity.x=0,s.LeftPressed=!1,s.RightPressed=!1,e.events.onDestroy.addOnce(function(){s.block=!1})},this),this.addChild(this.anime),this.resetFlag()}return a(e,t),s(e,[{key:"pattern",value:function(){var t=100*this.game.rnd.frac();if(t>67)this.RightPressed=!0;else{if(!(t>33))return;this.LeftPressed=!0}}},{key:"Action",value:function(){var t=this;if(!this.block&&!this.onAttack){if(this.body.velocity.x=0,this.onClimb?this.body.gravity.y=0:this.body.gravity.y=500,this.AttackPressed&&!this.block)return this.block=!0,this.Attack(),void setTimeout(function(){t.block=!1},650);this.RightPressed?this.goRight(this.body.onFloor()):this.LeftPressed?this.goLeft(this.body.onFloor()):this.stand(),this.JumpPressed&&this.body.onFloor()&&this.jump()}}},{key:"resetFlag",value:function(){var t=this;this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1;var e=100*this.game.rnd.frac();e>70?this.RightPressed=!0:e>40&&(this.LeftPressed=!0),this.alive&&setTimeout(function(){t.resetFlag()},500)}},{key:"stand",value:function(){this.anime.callAll("play",null,"stand")}},{key:"goRight",value:function(t){1==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!1),this.body.velocity.x=this.npc.Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"goLeft",value:function(t){0==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!0),this.body.velocity.x=-this.npc.Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"jump",value:function(){this.body.velocity.y=-this.npc.Jump,this.anime.callAll("play",null,"jump"),this.onClimb=!1}}]),e}(Phaser.Sprite);r["default"]=p,e.exports=r["default"]},{"../feature/Textbox":1,"../functions/GlobalVar":2}],7:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=(o(l),function(t){function e(t,r,o,i,a){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r,o),this.faceLeft=!1,this.onClimb=!1,this.onAttack=!1,this.isSuper=!1,this.overRope=!1,this.overLadder=!1,this.block=!1,this.hitboxes=t.add.group(),this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1,this.game=t,this.camera=i,this["char"]=a,t.add.existing(this),t.physics.arcade.enable(this),this.anchor.setTo(.5,.5),this.body.gravity.y=500,this.body.collideWorldBounds=!0,this.body.bounce.y=.1,this.body.setSize(35,60),this.anime=t.add.group();var l=a.Sheets;for(var u in l){var c=t.add.sprite(l[u].offX,l[u].offY,u.toString());for(var f in l[u].animates)var p=c.animations.add(f.toString(),l[u].animates[f].frame,l[u].animates[f].fps,l[u].animates[f].loop);this.anime.add(c)}this.hitboxes.enableBody=!0;var h=this.hitboxes.create(25,20,null);h.anchor.setTo(.5,.5),h.body.setSize(35,60),h.name="hitbox1",h.kill(),this.addChild(this.hitboxes),this.addChild(this.anime)}return i(e,t),a(e,[{key:"Action",value:function(){var t=this;if(!this.onAttack){if(this.body.velocity.x=0,this.overLadder||this.overRope||(this.onClimb=!1),this.onClimb?(this.body.gravity.y=0,this.body.velocity.y=0):this.body.gravity.y=500,!this.onClimb&&this.AttackPressed&&!this.block)return this.block=!0,this.Attack(),this.resetFlag(),void setTimeout(function(){t.block=!1},650);this.RightPressed&&!this.onClimb?this.goRight(this.body.onFloor()):this.LeftPressed&&!this.onClimb?this.goLeft(this.body.onFloor()):this.UpPressed?(this.overLadder||this.overRope)&&this.climbUp():this.DownPressed?(this.overLadder||this.overRope)&&this.climbDown():this.onClimb||this.stand(),this.JumpPressed&&(this.body.onFloor()||this.onClimb)&&this.jump(),this.resetFlag()}}},{key:"resetFlag",value:function(){this.LeftPressed=!1,this.RightPressed=!1,this.AttackPressed=!1,this.JumpPressed=!1,this.UpPressed=!1,this.DownPressed=!1,this.overLadder=!1,this.overRope=!1}},{key:"stand",value:function(){this.anime.callAll("play",null,"stand")}},{key:"goRight",value:function(t){1==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!1),this.body.velocity.x=this["char"].Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"goLeft",value:function(t){0==this.faceLeft&&(this.scale.x*=-1,this.faceLeft=!0),this.body.velocity.x=-this["char"].Speed,t&&this.anime.callAll("play",null,"walk")}},{key:"jump",value:function(){this.body.velocity.y=-this["char"].Jump,this.anime.callAll("play",null,"jump"),this.onClimb=!1}},{key:"climbUp",value:function(){this.body.velocity.y=-this["char"].Speed,this.anime.callAll("play",null,"climb"),this.onClimb=!0}},{key:"climbDown",value:function(){this.body.velocity.y=this["char"].Speed,this.anime.callAll("play",null,"climb"),this.onClimb=!0}},{key:"Attack",value:function(){var t=this;this.onAttack=!0,this.anime.callAll("play",null,"attack"),this.hitboxes.getByName("hitbox1").revive(),this.anime.forEach(function(e){e.animations.currentAnim.onComplete.addOnce(function(){t.onAttack=!1,t.stand(),t.hitboxes.getByName("hitbox1").kill()},t)},this)}}]),e}(Phaser.Sprite));r["default"]=u,e.exports=r["default"]},{"../functions/GlobalVar":2}],8:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),i(e,[{key:"preload",value:function(){this.load.image("icon","system/icon.jpg"),this.load.image("loadbar","system/ProgressBar.png")}},{key:"create",value:function(){this.game.stage.backgroundColor="#fff",this.game.plugins.add(Fabrique.Plugins.InputField),this.state.start("PreLogin")}}]),e}(Phaser.State);r["default"]=s,e.exports=r["default"]},{}],9:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),i(e,[{key:"create",value:function(){}},{key:"update",value:function(){}}]),e}(Phaser.State);r["default"]=s,e.exports=r["default"]},{}],10:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=o(l),c=void 0,f=void 0,p=function(t){function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),a(e,[{key:"create",value:function(){this.game.add.tileSprite(0,0,1280,720,"bg"),this.confirm=this.game.add.button(this.game.world.centerX+100,400,"enter",this.onClick),c=this.game.add.inputField(540,233,{font:"25px Arial",fill:"#212121",fontWeight:"bold",width:230,max:20,padding:8,borderWidth:1,borderColor:"#000",borderRadius:10,placeHolder:"Username",textAlign:"center"}),c.setText(u.usr_name),c.blockInput=!1,f=this.game.add.inputField(540,315,{font:"25px Arial",fill:"#212121",fontWeight:"bold",width:230,max:20,padding:8,borderWidth:1,borderColor:"#000",borderRadius:10,placeHolder:"Password",textAlign:"center",type:Fabrique.InputType.password})}},{key:"onClick",value:function(){var t=this;c.value==u.usr_name&&"nckustory"==f.value?(u.bgm.stop(),c.destroy(),f.destroy(),u.usrUID=34041092,$.getJSON("testJSON/char.json",function(e){u.Char=e,$.getJSON("map/mapconfig/map"+u.Char.CurrentMap[0]+"conf.json",function(e){u.MapInfo=e,t.game.state.start("PreMain")})}),u.bgm=this.game.add.audio("PreMainbgm",1,!0),u.bgm.play()):(alert("Wrong password or wrong username!!"),f.setText())}}]),e}(Phaser.State);r["default"]=p,e.exports=r["default"]},{"../functions/GlobalVar":2}],11:[function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),l=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},u=t("../functions/GlobalVar"),c=n(u),f=t("../functions/func"),p=o(f),h=t("../objects/Monster"),d=o(h),y=t("../objects/Player"),v=o(y),b=t("../objects/Npc"),g=o(b),m=t("../feature/Textbox"),P=o(m),O=void 0,w=void 0,j=void 0,_=[],k=void 0,x=void 0,M=void 0,C=void 0,T=void 0,S=void 0,L=void 0,I=void 0,A=void 0,E=void 0,F=void 0,D=void 0,R=0,B=function(t){function e(){i(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return a(e,t),s(e,[{key:"create",value:function(){this.game.stage.backgroundColor="#fff",_[0]=this.game.add.sprite(0,0,c.MapInfo.bg[1][0]),_[0].scale.setTo(c.MapInfo.bg[1][3]),_[0].fixedToCamera=!0,O=this.game.add.tilemap("tilemap");var t=!0,e=!1,r=void 0;try{for(var o,n=c.MapInfo.Tiles[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;O.addTilesetImage(i,i)}}catch(a){e=!0,r=a}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw r}}var s=!0,l=!1,u=void 0;try{for(var f,h=c.MapInfo.obj[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var i=f.value;O.addTilesetImage(i,i)}}catch(a){l=!0,u=a}finally{try{!s&&h["return"]&&h["return"]()}finally{if(l)throw u}}if(w=O.createLayer("base"),w.resizeWorld(),j=O.createLayer("collide"),O.createLayer("layer1"),O.createLayer("layer2"),k=O.createLayer("monsBound"),c.MapInfo.Rope[0]){var y=O.createLayer("rope");x=this.game.add.group(),x.enableBody=!0,O.createFromTiles(c.MapInfo.Rope[1],null,null,y,x),x.forEach(function(t){t.x+=16,t.scale.setTo(.2,1)},this)}if(c.MapInfo.Ladder[0]){var b=O.createLayer("ladder");M=this.game.add.group(),M.enableBody=!0,O.createFromTiles(c.MapInfo.Ladder[1],null,null,b,M),M.forEach(function(t){t.x+=16,t.scale.setTo(.2,1)},this)}if(O.setCollisionByExclusion([0],!0,w),O.setCollisionByExclusion([0],!0,k),O.setCollision(c.MapInfo.CollideTileIdx,!0,j),p["default"].setTileCollision(j,c.MapInfo.CollideTileIdx,{top:!0,bottom:!1,left:!1,right:!1}),this.game.physics.arcade.TILE_BIAS=20,S=void 0,L=this.add.group(),1==c.MapInfo.MapNum&&(S=new g["default"](this.game,1772,10,this.camera,c.NPCInfo)),2==c.MapInfo.MapNum)for(var m=0;m<30;m++){var P=new d["default"](this.game,this.rnd.between(210,1350),this.rnd.between(52,1012),this.camera,c.MonsterInfo);L.add(P)}if(0!=c.fromMap){var I=0,A=0;for(var m in c.MapInfo.TransPoint)"0"!=m&&c.MapInfo.TransPoint[m][2]==c.fromMap&&(I=c.MapInfo.TransPoint[m][0],A=c.MapInfo.TransPoint[m][1]-93);T=new v["default"](this.game,I,A,this.camera,c.Char)}else T=new v["default"](this.game,c.MapInfo.TransPoint[0][0],c.MapInfo.TransPoint[0][1],this.camera,c.Char);this.game.camera.follow(T),O.createLayer("layer3"),C=this.add.group();for(var m in c.MapInfo.TransPoint)if("0"!=m){var R=this.game.add.sprite(c.MapInfo.TransPoint[m][0],c.MapInfo.TransPoint[m][1],""),B=this.game.add.sprite(c.MapInfo.TransPoint[m][0],c.MapInfo.TransPoint[m][1],"trans");R.name=m,this.game.physics.arcade.enable(R),R.body.setSize(47,47),R.anchor.setTo(.5,1),B.scale.setTo(.8),B.anchor.setTo(.5,1),B.animations.add("shine",[0,1,2,3,2,1],8,!0),B.animations.play("shine"),C.add(B),C.add(R)}T.inputEnabled=!0,T.events.onInputOver.add(this.getPoint,this),E=this.game.input.keyboard.addKey(Phaser.Keyboard.ALT),D=this.game.input.keyboard.addKey(Phaser.Keyboard.CONTROL),F=this.game.input.keyboard.createCursorKeys()}},{key:"update",value:function(){var t=this;if(this.game.physics.arcade.collide(S,w),this.game.physics.arcade.collide(S,j),this.game.physics.arcade.collide(S,k),this.game.physics.arcade.collide(L,w),this.game.physics.arcade.collide(L,j),this.game.physics.arcade.collide(L,k),this.game.physics.arcade.overlap(L,T),this.game.physics.arcade.overlap(L,T.hitboxes,function(t,e){t.kill()}),this.game.physics.arcade.collide(T,w),T.onClimb||this.game.physics.arcade.collide(T,j),I=this.game.physics.arcade.overlap(T,C,function(t,e){A=e.name}),T.overRope=this.game.physics.arcade.overlap(T,x),T.overLadder=this.game.physics.arcade.overlap(T,M),F.left.isDown?T.LeftPressed=!0:F.right.isDown&&(T.RightPressed=!0),F.up.isDown?T.UpPressed=!0:F.down.isDown&&(T.DownPressed=!0),D.isDown&&(T.AttackPressed=!0),E.isDown&&(T.JumpPressed=!0),F.up.isDown&&T.body.onFloor()&&I&&(c.fromMap=c.Char.CurrentMap[0],c.Char.CurrentMap[0]=c.MapInfo.TransPoint[A][2],$.getJSON("map/mapconfig/map"+c.Char.CurrentMap[0]+"conf.json",function(e){c.MapInfo=e,t.game.state.start("Reload")})),T.Action(),void 0!==S&&S.Action(),L.forEachAlive(function(t){t.Action()},this),2==c.MapInfo.MapNum&&0==R&&null==L.getFirstAlive()){++R;new P["default"](this.game,this.camera,"不可能!!!\n我居然輸了.....")}}},{key:"getPoint",value:function(){console.log("X: "+T.x+" Y: "+T.y)}},{key:"shutdown",value:function(){}}]),e}(Phaser.State);r["default"]=B,e.exports=r["default"]},{"../feature/Textbox":1,"../functions/GlobalVar":2,"../functions/func":3,"../objects/Monster":5,"../objects/Npc":6,"../objects/Player":7}],12:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),i(e,[{key:"preload",value:function(){}}]),e}(Phaser.State);r["default"]=s,e.exports=r["default"]},{}],13:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=o(l),c=function(t){
function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),a(e,[{key:"preload",value:function(){this.splash=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"icon"),this.splash.anchor.setTo(.5),this.splash.scale.setTo(.6,.6),this.preloadBar=this.add.sprite(this.game.world.centerX,620,"loadbar"),this.preloadBar.anchor.setTo(.5),this.load.setPreloadSprite(this.preloadBar),this.load.audio("bgm",["bgm/login.mp3","bgm/login.ogg"]),this.load.image("bg","system/login.png"),this.load.image("enter","system/enter.png"),this.load.image("tree","system/tree.jpg"),this.load.audio("PreMainbgm","bgm/zenzenzen.mp3"),$.getJSON("monster/json/dirtyconf.json",function(t){u.MonsterInfo=t}),$.getJSON("NPC/conf/dirtyconf.json",function(t){u.NPCInfo=t})}},{key:"create",value:function(){this.game.stage.disableVisibilityChange=!0,u.bgm=this.game.add.audio("bgm",1,!0),u.bgm.play(),this.add.plugin(Fabrique.Plugins.InputField),this.state.start("Login")}}]),e}(Phaser.State);r["default"]=c,e.exports=r["default"]},{"../functions/GlobalVar":2}],14:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=o(l),c=function(t){function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),a(e,[{key:"preload",value:function(){this.splash=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"tree"),this.splash.anchor.setTo(.5),this.preloadBar=this.add.sprite(this.game.world.centerX,620,"loadbar"),this.preloadBar.anchor.setTo(.5),this.load.setPreloadSprite(this.preloadBar),this.game.stage.backgroundColor="#0e2c5b",this.load.image("startbt","system/start.png"),this.load.spritesheet("trans","map/obj/trans.png",102,138),this.load.image("textboxbg","system/a.png"),this.load.image("textboxbutton","system/b.png"),this.load.tilemap("tilemap","map/json/"+u.MapInfo.json,null,Phaser.Tilemap.TILED_JSON);var t=!0,e=!1,r=void 0;try{for(var o,n=u.MapInfo.Tiles[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;this.load.image(i,"map/tiles/"+i+".png")}}catch(a){e=!0,r=a}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw r}}var s=!0,l=!1,c=void 0;try{for(var f,p=u.MapInfo.obj[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var i=f.value;this.load.image(i,"map/obj/"+i+".png")}}catch(a){l=!0,c=a}finally{try{!s&&p["return"]&&p["return"]()}finally{if(l)throw c}}for(var h=1;h<u.MapInfo.bg[0];h++)this.load.image(u.MapInfo.bg[h][0],"map/bg/"+u.MapInfo.bg[h][0]+".png");this.load.audio("Mainbgm","bgm/"+u.MapInfo.bgm[0]+".mp3"),this.load.spritesheet("test","character/test/org_h01.png",32,32);var d=u.Char.Sheets;for(var y in d)this.load.spritesheet(y.toString(),d[y].dir+y.toString()+".png",d[y].width,d[y].height,d[y].frames);this.load.spritesheet("dirty","character/dirty.png",93,95,6)}},{key:"create",value:function(){this.add.button(this.game.world.centerX,this.game.world.centerY,"startbt",this.onClick,this)}},{key:"onClick",value:function(){u.bgm.stop(),u.bgm=this.game.add.audio("Mainbgm",u.MapInfo.bgm[1],!0),u.bgm.play(),this.state.start("Main")}}]),e}(Phaser.State);r["default"]=c,e.exports=r["default"]},{"../functions/GlobalVar":2}],15:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),i(e,[{key:"init",value:function(){}},{key:"preload",value:function(){}},{key:"create",value:function(){this.game.physics.startSystem(Phaser.Physics.ARCAD)}}]),e}(Phaser.State);r["default"]=s,e.exports=r["default"]},{}],16:[function(t,e,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),s=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},l=t("../functions/GlobalVar"),u=o(l),c=void 0,f=function(t){function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),a(e,[{key:"preload",value:function(){this.game.stage.backgroundColor="#000000",c=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"test"),c.animations.add("right",[6,7,8],10,!0),c.scale.setTo(2),this.game.camera.follow(c),c.animations.play("right"),this.load.tilemap("tilemap","map/json/"+u.MapInfo.json,null,Phaser.Tilemap.TILED_JSON);var t=!0,e=!1,r=void 0;try{for(var o,n=u.MapInfo.Tiles[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;this.load.image(i,"map/tiles/"+i+".png")}}catch(a){e=!0,r=a}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw r}}var s=!0,l=!1,f=void 0;try{for(var p,h=u.MapInfo.obj[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var i=p.value;this.load.image(i,"map/obj/"+i+".png")}}catch(a){l=!0,f=a}finally{try{!s&&h["return"]&&h["return"]()}finally{if(l)throw f}}for(var d=1;d<u.MapInfo.bg[0];d++)this.load.image(u.MapInfo.bg[d][0],"map/bg/"+u.MapInfo.bg[d][0]+".png");this.load.audio("Mainbgm","bgm/"+u.MapInfo.bgm[0]+".mp3")}},{key:"create",value:function(){u.bgm.stop(),u.bgm=this.game.add.audio("Mainbgm",u.MapInfo.bgm[1],!0),u.bgm.play(),this.state.start("Main")}}]),e}(Phaser.State);r["default"]=f,e.exports=r["default"]},{"../functions/GlobalVar":2}],17:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),a=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;t=u,e=i,r=a,o=!0,s=u=void 0}},s=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),i(e,[{key:"create",value:function(){}},{key:"update",value:function(){}}]),e}(Phaser.State);r["default"]=s,e.exports=r["default"]},{}]},{},[4]);